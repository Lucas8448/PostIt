<!DOCTYPE html>
<html>

<head>
  <title>WebRTC Answer</title>
  <script>
    let peerConnection = new RTCPeerConnection();

    window.onload = () => {
      const urlParams = new URLSearchParams(window.location.search);
      const offerSdp = atob(decodeURIComponent(urlParams.get('offer')));
      const offerDesc = new RTCSessionDescription({
        type: 'offer',
        sdp: offerSdp
      });

      // Set the remote description to the received offer
      peerConnection.setRemoteDescription(offerDesc)
        .then(() => peerConnection.createAnswer())
        .then(answer => peerConnection.setLocalDescription(answer));

      // Setup data channel event handlers
      peerConnection.ondatachannel = event => {
        const dataChannel = event.channel;
        dataChannel.onmessage = e => console.log("Message from Client A:", e.data);
        dataChannel.onopen = () => console.log("Connection established with Client A");
      };

      // Add any additional event handlers as needed for the peer connection
    };
  </script>
</head>

<body>
  <h2>WebRTC Connection</h2>
  <p>Establishing connection with Client A...</p>
</body>

</html>