<!DOCTYPE html>
<html>

<head>
  <title>WebRTC Client</title>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <script type="module">
    import { Peer } from "https://esm.sh/peerjs@1.5.2?bundle-deps"
 </script>
  <script>
    async function connectToHost() {
      const hostPeerId = document.getElementById('hostPeerId').value;
      const peer = new Peer();

      const conn = peer.connect(hostPeerId);

      conn.on('open', () => {
        const msgInput = document.getElementById('msgInput');
        const btnSend = document.getElementById('btnSend');
        btnSend.onclick = () => {
          conn.send(msgInput.value);
          msgInput.value = '';
        };
      });

      conn.on('data', (data) => {
        console.log('Received:', data);
      });

      conn.on('error', err => {
        console.log('Error:', err);
      });
    }
  </script>
</head>

<body>
  <h2>WebRTC Client</h2>
  <input type="text" id="hostPeerId" placeholder="Enter host peer ID">
  <button onclick="connectToHost()">Connect to Host</button>
  <input type="text" id="msgInput" placeholder="Type your message here">
  <button id="btnSend">Send</button>
</body>

</html>