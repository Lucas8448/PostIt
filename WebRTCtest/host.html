<!DOCTYPE html>
<html>

<head>
  <title>WebRTC Host</title>
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <script type="module">
    import { Peer } from "https://esm.sh/peerjs@1.5.2?bundle-deps"

 document.addEventListener('DOMContentLoaded', () => {
   const peer = new Peer();

   peer.on('open', (id) => {
     document.getElementById('peerId').textContent = `Your peer ID: ${id}`;
   });

   peer.on('connection', (conn) => {
     conn.on('data', (data) => {
       console.log('Received:', data);
     });

     conn.on('open', () => {
       const msgInput = document.getElementById('msgInput');
       const btnSend = document.getElementById('btnSend');
       btnSend.onclick = () => {
         conn.send(msgInput.value);
         msgInput.value = '';
       };
     });

     conn.on('error', err => {
       console.log('Error:', err);
     });
   });
 });
 </script>
</head>

<body>
  <h2>WebRTC Host</h2>
  <p id="peerId">Generating peer ID...</p>
  <input type="text" id="msgInput" placeholder="Type your message here">
  <button id="btnSend">Send</button>
</body>

</html>